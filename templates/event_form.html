

{% extends "index.html" %}

{% block content %}

    <!--https://www.codeply.com/go/nhbdi2FkJm-->

<div class="container">
    <div class="row">
        <div class="col-md-6 mx-auto">

            <!-- form card login -->
            <div class="card rounded-0">

                <div class="card-header">
                    <h3 class="mb-0">{{ form_name }}</h3>
                </div>
                <div class="card-body">

                    <form class="form" action="/{{ action }}" method=post enctype="multipart/form-data">
                        {{ form.hidden_tag() }}

                        <div class="form-group">
                            {{ form.event_name.label }}
                            {{ form.event_name(class_="form-control") }}

                            {% if form.event_name.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for message in form.event_name.errors %}
                                        <div>{{ message }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <div class="form-group">
                            {{ form.event_place.label }}
                            {{ form.event_place(class_="form-control") }}

                            {% if form.event_place.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for message in form.event_place.errors %}
                                        <div>{{ message }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <div class="form-group">
                            {{ form.event_date.label }}
                            {{ form.event_date(class_="form-control") }}

                            {% if form.event_date.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for message in form.event_date.errors %}
                                        <div>{{ message }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <div class="form-group">
                            {{ form.event_friends.label }}
                            {{ form.event_friends(class_="form-control", multiple="multiple") }}

                            {% if form.event_friends.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for message in form.event_friends.errors %}
                                        <div>{{ message }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        {{ form.submit(class_="btn btn-success") }}

                    </form>
                </div>
                <!--/card-block-->
            </div>
            <!-- /form card login -->

        </div>

    </div>

</div>

    <script>
        $(document).ready(function() {
            $('#event_friends').multiselect();

            var participant = {{ participant }};
            var all_people = $('ul.multiselect-container li a label input')
            for(let i=1; i<=all_people.length+1; i++){
                if (participant.indexOf(i) != -1){
                    $('ul.multiselect-container li:nth-child('+(Number(i-1))+') a label input').click()
                }
            }

        });



    </script>
{% endblock %}
